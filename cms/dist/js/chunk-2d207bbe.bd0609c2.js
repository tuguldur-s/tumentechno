(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d207bbe"],{a290:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",[a("base-header",{staticClass:"pb-6 pb-8 pt-5 pt-md-8",attrs:{type:"gradient-success"}}),a("div",{staticClass:"container-fluid mt--7"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col"},[a("div",{staticClass:"card shadow border-0 p-5"},[a("tabs",[a("tab-pane",{attrs:{title:"Гялс категори"}},[a("div",{attrs:{align:"right"}},[a("el-button",{staticClass:"mr-2",attrs:{type:"primary"},on:{click:function(e){t.modals.newQuickCategory=!0}}},[t._v("Гялс категори бүртгэх")])],1),a("div",{staticClass:"table-responsive mt-2"},[a("base-table",{staticClass:"table align-items-center table-flush thead-light",attrs:{"tbody-classes":"list",data:t.quickCategory},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("img",{staticStyle:{width:"auto",height:"50px"},attrs:{src:t.$appUrl+"/images/category/"+s.image}})])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.sub_category_name))])])])]),a("td",{attrs:{align:"right"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top"}},[a("base-button",{attrs:{type:"danger",size:"sm"},on:{click:function(e){return t.deleteQuickCategory(s)}}},[a("span",{staticClass:"ni ni-fat-remove"})])],1)],1)]}}])},[a("template",{slot:"columns"},[a("th",{style:{background:"#F6F9FC"}},[t._v("Зураг")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Категори нэр")]),a("th",{style:{background:"#F6F9FC"}})])],2)],1)]),a("tab-pane",{attrs:{title:"Санал болгох"}},[a("div",{attrs:{align:"right"}},[a("el-button",{staticClass:"mr-2",attrs:{type:"primary"},on:{click:function(e){t.modals.newFeature=!0}}},[t._v("Бүтээгдэхүүн нэмэх")])],1),a("div",{staticClass:"table-responsive mt-2"},[a("base-table",{staticClass:"table align-items-center table-flush thead-light",attrs:{"tbody-classes":"list",data:t.featured},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("img",{staticStyle:{width:"auto",height:"50px"},attrs:{src:t.$appUrl+"/images/product/"+s.image}})])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.name))]),a("br"),a("span",{staticClass:"name mb-0 text-sm"},[a("strong",[t._v(t._s(s.model))]),t._v(" "+t._s(s.color_name))])])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(Number(s.sale_price).toLocaleString())+"₮")])])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(Number(s.remain).toLocaleString()))])])])]),a("td",{attrs:{align:"right"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top"}},[a("base-button",{attrs:{type:"danger",size:"sm"},on:{click:function(e){return t.deleteFeature(s.id)}}},[a("span",{staticClass:"ni ni-fat-remove"})])],1)],1)]}}])},[a("template",{slot:"columns"},[a("th",{style:{background:"#F6F9FC"}},[t._v("Зураг")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Бүтээгдэхүүн")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Үнэ")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Үлдэгдэл")]),a("th",{style:{background:"#F6F9FC"}})])],2)],1)]),a("tab-pane",{attrs:{title:"Хямдралтай"}},[a("div",{attrs:{align:"right"}},[a("el-button",{staticClass:"mr-2",attrs:{type:"primary"},on:{click:function(e){t.modals.newDiscount=!0}}},[t._v("Бүтээгдэхүүн нэмэх")])],1),a("div",{staticClass:"table-responsive mt-2"},[a("base-table",{staticClass:"table align-items-center table-flush thead-light",attrs:{"tbody-classes":"list",data:t.discount},scopedSlots:t._u([{key:"default",fn:function(e){var s=e.row;return[a("th",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("img",{staticStyle:{width:"auto",height:"50px"},attrs:{src:t.$appUrl+"/images/product/"+s.image}})])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.name))]),a("br"),a("span",{staticClass:"name mb-0 text-sm"},[a("strong",[t._v(t._s(s.model))]),t._v(" "+t._s(s.color_name))])])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(Number(s.sale_price).toLocaleString())+"₮")])])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(s.discount)+"%")])])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(Number(s.sale_price-s.sale_price/100*s.discount).toLocaleString())+"₮")])])])]),a("td",{attrs:{scope:"row"}},[a("div",{staticClass:"media align-items-center"},[a("div",{staticClass:"media-body"},[a("span",{staticClass:"name mb-0 text-sm"},[t._v(t._s(Number(s.remain).toLocaleString()))])])])]),a("td",{attrs:{align:"right"}},[a("el-tooltip",{staticClass:"item",attrs:{effect:"dark",content:"Устгах",placement:"top"}},[a("base-button",{attrs:{type:"danger",size:"sm"},on:{click:function(e){return t.deleteDiscount(s.id)}}},[a("span",{staticClass:"ni ni-fat-remove"})])],1)],1)]}}])},[a("template",{slot:"columns"},[a("th",{style:{background:"#F6F9FC"}},[t._v("Зураг")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Бүтээгдэхүүн")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Үнэ")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Хямдрал")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Хямдарсан үнэ")]),a("th",{style:{background:"#F6F9FC"}},[t._v("Үлдэгдэл")]),a("th",{style:{background:"#F6F9FC"}})])],2)],1)])],1)],1)])])]),a("modal",{attrs:{show:t.modals.newQuickCategory},on:{"update:show":function(e){return t.$set(t.modals,"newQuickCategory",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Гялс категори үүсгэх")]),a("div",{staticClass:"row",style:{"max-height":"400px",overflow:"auto"}},[a("div",{staticClass:"col-md-12"},[a("el-select",{staticStyle:{width:"100%"},attrs:{filterable:"",placeholder:"Select"},model:{value:t.selectedCategory,callback:function(e){t.selectedCategory=e},expression:"selectedCategory"}},t._l(t.category,(function(t){return a("el-option",{key:t.id,attrs:{label:t.sub_category_name,value:t.id}})})),1),a("base-button",{staticClass:"mt-2",staticStyle:{width:"100%"},attrs:{type:"danger"},on:{click:t.clickUpload}},[t._v("Зураг оруулах")]),a("input",{ref:"image",attrs:{type:"file",accept:"image/*",id:"image",hidden:""},on:{change:t.onCategoryImage}})],1)]),a("template",{slot:"footer"},[a("base-button",{attrs:{type:"primary"},on:{click:t.addQuickCategory}},[t._v("Хадгалах")]),a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.newQuickCategory=!1}}},[t._v("Гарах ")])],1)],2),a("modal",{attrs:{show:t.modals.newFeature},on:{"update:show":function(e){return t.$set(t.modals,"newFeature",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Санал болгож буй бараа нэмэх")]),a("div",{staticClass:"row",style:{"max-height":"400px",overflow:"auto"}},[a("div",{staticClass:"col-md-12"},[a("el-input",{attrs:{placeholder:"Модель дугаараа оруулна уу",clearable:""},model:{value:t.newFeature,callback:function(e){t.newFeature=e},expression:"newFeature"}})],1)]),a("template",{slot:"footer"},[a("base-button",{attrs:{type:"primary"},on:{click:t.addFeature}},[t._v("Хадгалах")]),a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.newFeature=!1}}},[t._v("Гарах")])],1)],2),a("modal",{attrs:{show:t.modals.newDiscount},on:{"update:show":function(e){return t.$set(t.modals,"newDiscount",e)}}},[a("h6",{staticClass:"modal-title",attrs:{slot:"header",id:"modal-title-default"},slot:"header"},[t._v("Хямдралтай бараа нэмэх")]),a("div",{staticClass:"row",style:{"max-height":"400px",overflow:"auto"}},[a("div",{staticClass:"col-md-12"},[a("el-input",{attrs:{placeholder:"Модель дугаараа оруулна уу",clearable:""},model:{value:t.newDiscount,callback:function(e){t.newDiscount=e},expression:"newDiscount"}}),a("el-input",{staticClass:"mt-1",attrs:{min:"0",max:"100",placeholder:"Хямдрах хувь",type:"number",clearable:""},model:{value:t.newDiscountPercent,callback:function(e){t.newDiscountPercent=e},expression:"newDiscountPercent"}})],1)]),a("template",{slot:"footer"},[a("base-button",{attrs:{type:"primary"},on:{click:t.addDiscount}},[t._v("Хадгалах")]),a("base-button",{staticClass:"ml-auto",attrs:{type:"link"},on:{click:function(e){t.modals.newDiscount=!1}}},[t._v("Гарах")])],1)],2)],1)},i=[],o=(a("d3b7"),a("159b"),a("a434"),a("b0c0"),{data:function(){return{modals:{newQuickCategory:!1,newFeature:!1,newDiscount:!1},quickCategory:[],category:[],selectedCategory:0,selectedCategoryImage:"",featured:[],newFeature:"",newDiscount:"",newDiscountPercent:0,discount:[]}},mounted:function(){this.getQuick(),this.getFeatured(),this.getDiscount()},methods:{addDiscount:function(){if(""!=this.newDiscount){var t=this,e=localStorage.getItem("token");t.$axios({method:"POST",url:t.$appUrl+"/api/admin/add-discount",headers:{Authorization:"Bearer ".concat(e)},data:{model:this.newDiscount,percent:this.newDiscountPercent}}).then((function(e){"failed"==e.data.result?t.$notify({title:"Амжилтгүй",message:"Бүтээгдэхүүн олдсонгүй",type:"danger"}):"success"==e.data.result&&(t.$notify({title:"Амжилттай",message:"Бүтээгдэхүүн бүртгэгдлээ",type:"success"}),t.discount=e.data.discount)}))}},deleteDiscount:function(t){var e=this,a=localStorage.getItem("token");this.$msgbox({title:"Санамж",message:"Устгахдаа итгэлтэй байна уу",showCancelButton:!0,confirmButtonText:"Тийм",cancelButtonText:"Болих",beforeClose:function(s,i,o){"confirm"===s?(i.confirmButtonLoading=!0,i.confirmButtonText="Түр хүлээнэ үү...",e.$axios({method:"POST",url:e.$appUrl+"/api/admin/delete-discount",headers:{Authorization:"Bearer ".concat(a)},data:{id:t}}).then((function(a){"success"==a.data.result&&e.discount.forEach((function(a,s){a.id==t&&e.discount.splice(s,1)})),i.confirmButtonLoading=!1,o()}))):o()}})},getDiscount:function(){var t=this,e=localStorage.getItem("token");t.$axios({method:"POST",url:t.$appUrl+"/api/admin/get-discount",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.discount=e.data.discount}))},deleteFeature:function(t){var e=this,a=localStorage.getItem("token");this.$msgbox({title:"Санамж",message:"Устгахдаа итгэлтэй байна уу",showCancelButton:!0,confirmButtonText:"Тийм",cancelButtonText:"Болих",beforeClose:function(s,i,o){"confirm"===s?(i.confirmButtonLoading=!0,i.confirmButtonText="Түр хүлээнэ үү...",e.$axios({method:"POST",url:e.$appUrl+"/api/admin/delete-featured",headers:{Authorization:"Bearer ".concat(a)},data:{id:t}}).then((function(a){"success"==a.data.result&&(e.featured.forEach((function(a,s){a.id==t&&e.featured.splice(s,1)})),e.$notify({title:"Амжилттай",message:"Бүтээгдэхүүн устгагдлаа",type:"success"})),i.confirmButtonLoading=!1,o()}))):o()}})},addFeature:function(){if(""!=this.newFeature){var t=this,e=localStorage.getItem("token");t.$axios({method:"POST",url:t.$appUrl+"/api/admin/add-featured",headers:{Authorization:"Bearer ".concat(e)},data:{model:this.newFeature}}).then((function(e){"notfound"==e.data.result?t.$notify({title:"Амжилтгүй",message:"Бүтээгдэхүүн олдсонгүй",type:"danger"}):"failed"==e.data.result?t.$notify({title:"Амжилтгүй",message:"Аль хэдийн бүртгэгдсэн",type:"danger"}):"success"==e.data.result&&(t.$notify({title:"Амжилттай",message:"Бүтээгдэхүүн бүртгэгдлээ",type:"success"}),t.featured=e.data.product)}))}},getFeatured:function(){var t=this,e=localStorage.getItem("token");t.$axios({method:"POST",url:t.$appUrl+"/api/admin/get-featured",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.featured=e.data.product}))},deleteQuickCategory:function(t){var e=this,a=localStorage.getItem("token");this.$msgbox({title:"Санамж",message:"Устгахдаа итгэлтэй байна уу",showCancelButton:!0,confirmButtonText:"Тийм",cancelButtonText:"Болих",beforeClose:function(s,i,o){"confirm"===s?(i.confirmButtonLoading=!0,i.confirmButtonText="Түр хүлээнэ үү...",e.$axios({method:"POST",url:e.$appUrl+"/api/admin/delete-quick-category",headers:{Authorization:"Bearer ".concat(a)},data:{info:t}}).then((function(a){"success"==a.data.result&&(e.$notify({title:"Амжилттай",message:"Гялс категори устгах",type:"success"}),e.quickCategory.forEach((function(a,s){a.id==t.id&&e.quickCategory.splice(s,1)}))),i.confirmButtonLoading=!1,o()}))):o()}})},addQuickCategory:function(){var t=this,e=localStorage.getItem("token");if(this.selectedCategoryImage){var a=new FormData;a.append("photo",this.selectedCategoryImage,this.selectedCategoryImage.name),a.append("id",this.selectedCategory),this.$axios.post(this.$appUrl+"/api/admin/add-quick-category",a,{headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){"success"==e.data.result?(t.$notify({title:"Амжилттай",message:"Гялс категори бүртгэгдлээ",type:"success"}),t.quickCategory=e.data.data):t.$notify({title:"Амжилтгүй",message:"Бүртгэлтэй категори",type:"danger"})})).catch((function(t){console.log(t)}))}else this.$notify({title:"Амжилтгүй",message:"Зураг оруулна уу",type:"danger"})},clickUpload:function(){this.$refs.image.click()},onCategoryImage:function(t){var e=t.target.files[0];this.selectedCategoryImage=e},getQuick:function(){var t=this,e=localStorage.getItem("token");t.$axios({method:"POST",url:t.$appUrl+"/api/admin/get-quick-category",headers:{Authorization:"Bearer ".concat(e)}}).then((function(e){t.quickCategory=e.data.data,t.category=e.data.category,t.selectedCategory=e.data.category[0].id}))}}}),n=o,c=a("2877"),r=Object(c["a"])(n,s,i,!1,null,null,null);e["default"]=r.exports}}]);
//# sourceMappingURL=chunk-2d207bbe.bd0609c2.js.map